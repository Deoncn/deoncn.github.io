---
layout: mypost
title: 树莓派的魅力
categories: [life style]
---
# 用树莓派制作 Switch 游戏机

------
> * 原因：我那制作游戏机的梦想。

------
第1步：采购准备工作
你将需要以下工具：

烙铁+焊料+助焊剂
热熔胶枪
3D打印机或借助3D打印服务商
一套完整的微型螺丝刀套件
精密钻头工具或带3/16钻头的钻头套件
耐心点，下面才是重点！

部件包括：

树莓派官方7寸屏幕
Kingwin 80 件什锦笔记本更换螺丝套件或（各种大小和类型的螺丝）
26 awg 电线
1/8英寸大小立体声插孔带开关
迷你金属音箱
微型电源开关
充满电的6600毫瓦电池
Joy-Con控制器（推荐使用充电器）
树莓派3B（内置蓝牙和WiFi）
PAM8302 2.5W 音频功放
PowerBoost 1000C
3d打印的外壳（所需文件在这里下载）
Pi3SuperAwesomePortable_brackets.stl
SwitchPiScreen_v2.stl
Pi3SuperAwesomePortable_Case_2mm.stl

可选项：

树莓派官方摄像头二代
第2步：将音频接口焊接到树莓派上
首先从树莓派开始，将26 awg 电线与树莓派焊接：
我会在音频接口附近将红色的左声道焊接到pp26(感谢树莓派基金会标记的焊盘）将黑色焊接到pp24。
右声道是黄色导线，并将其焊接到音频接口的左上角引脚。
我建议留下额外的8-10厘米长的电线，你可以将它们剪下来，或者卷起来留用。因为我的项目经常被拆开并重建或重新使用。我非常喜欢这个特殊的1/8插孔。我之所以选择它，是因为能清晰的从顶部看到并彻底的了解它的工作原理。
![此处输入图片的描述][1]
![此处输入图片的描述][2]
![此处输入图片的描述][3]

焊接音频接口（引脚见上图）：
从树莓派上取下红色导线并将其焊接到1/8插孔上的针脚2上。
从树莓派上取下黄色导线，并将其焊接到1/8插孔上的针脚5上。
取下黑色导线，再拧8-10厘米长的黑色导线，然后在1/8插孔上焊接到针脚1上。
将8-10厘米长的红色导线焊接到1/8插孔上的针脚3上。
你现在应该有一个音频接口连接到树莓派，如果你播放声音，然后插入耳，就会很清晰地听见声音。我建议将导线用热熔胶粘合在树莓派的底部，同时底部的接口能固定细线，并保护它们免受损坏和短路。
![此处输入图片的描述][4]
![此处输入图片的描述][5]

第3步：焊接电源板和开关
PowerBoost 1000C 满足您所有的锂充电需求。
![此处输入图片的描述][6]
![此处输入图片的描述][7]
然而不幸的是，这个小东西虽然非常棒，但并不能输出足够的电力来运行Pi-Switch。但它的确是非常不错的充电电池，这个电池能为树莓派提供足够多的电量，使屏幕和音频供电大约2-3个小时。我会将电源保持开启，以便耗尽电池电量，这就意味着您需要直接插入电源。我仍在努力寻找更好的解决方案。

电源线：
首先看上图，你会注意到3个黑色圆圈和3个红色圆圈。
你猜到了！焊接3个25厘米的黑色导线和3个25厘米的红色导线到PowerBoost上标记的相应位置。

开关（电源开关，不是 Nintendo）：
将一根右边或左边的腿从开关上切下，然后用5厘米的电线焊接到残缺的电源开关的备用引脚上。
焊接其中一条电线，切换至PowerBoost，剩下的电线连接至PowerBoost板。
热熔胶便宜，快捷，简单。我建议将连接到Power Boosted Board的每根电线上涂上热熔胶。

第4步：扬声器和音频板以及耳机插孔（将它们连接在一起）
![此处输入图片的描述][8]
![此处输入图片的描述][9]
这一步我们将这些组件组合在一起。

焊接扬声器：
如图所示，将每一根导线焊接到扬声器上的每个垫上。热收缩太方便了，如果你像我一样喜欢使用热熔胶！

焊接音频板：
拿起你的PAM8302，看看它的说明。如图所示，在电路板4-8欧姆的一侧，将扬声器电线焊接到两个中心垫上。

焊接音频的电源：
从PowerBoost板上取下其中一根红色电源线和一块接地板，并将红色电线焊接到PAM8302上的vin上，将黑色电线焊接到PAM8302上的gnd上。

焊接耳机至PAM8302：
从耳机插孔取出红线，并将其焊接到PAM8302的A+上。
从耳机插孔取出黑色线，并将其焊接到PAM8302的A-上。

焊接树莓派：
这有一张树莓派的图片。从PowerBoost上取出一根黑线将其焊接到树莓派图片上的黑点。
从PowerBoost上取出一根红线将其焊接到树莓派图片上的红点。

测试：
请小心确保剩余的黑线来自PowerBoost，和来自PowerBoost的红线不会触及任何东西。然后装上电池并翻转开关。如果所有部件都正确连接，则应在充电板上的指示灯上点亮指示灯，如果扬声器噪音太大，可能会听到扬声器发出轻微的嗡嗡声，以至于可能出现焊接问题。

第5步：组装
除了LCD和可选的PI相机之外，我们现在应该已经安装了所有东西。在之前的图片中，你会看到如何嵌入树莓派本身。这非常简单，现在你可以拿出那个80件什锦笔记本更换螺丝套件，找到一些比树莓派厚一到两毫米的螺丝，然后将它们拧入软印刷塑料中。推荐使用PLA。应该有两个合适的夹子来安置树莓派，并且在相反的角落有可以穿线的孔。电源板也是如此。上面的图片展示了电源板的组装。
![此处输入图片的描述][10]
![此处输入图片的描述][11]
![此处输入图片的描述][12]
现在将开关穿过电源板上方的小孔。用镊子或手指从外面抓住开关。如图所示，轻轻地拉开开关以防止其掉入箱内，在开关背面放置一些热熔胶。一旦胶水冷却，请检查开关是否便于使用。如果粘胶不好，请再试一次。在树莓派和PowerBoost之间钻一个3/16英寸的孔，也可以只是钻出一个孔。它应该在树莓派的usb端口的一侧。将耳机插孔穿入孔中并粘合到位。
最后，将扬声器电池和音频板粘合到位，如上图所示。我将扬声器放在电池下面的塑料下面，我把它直接塞在PowerBoost板后面。然后，我将电池粘在3D打印机箱的两侧。最后，我把扬声器放大器粘在电池的顶部。
![此处输入图片的描述][13]
所以，如果你已经做好了这一切，那么你现在应该已经将树莓派、PowerBoost、PAM8302、扬声器、电源开关和电池都安装在树莓派盒的背面。另外应该还有一个25厘米的黑线和一个25厘米的红线留下。

第6步：添加屏幕和配件
![此处输入图片的描述][14]
![此处输入图片的描述][15]
![此处输入图片的描述][16]
![此处输入图片的描述][17]
![此处输入图片的描述][18]
你几乎已经完成了这个相当复杂的组装。现在拿出一些6毫米长的螺丝和螺纹侧杆， 如上图所示，将它们拧入屏幕上的螺丝孔。如果屏幕不是连成一排的，为了更适合使用，可能会需要颠倒过来。看看图片，你可能会注意到我的成型线连接到了我的屏幕上。实际上，我将pin header放在我的PowerBoost上，而不是直接焊接。如果你没有提前看这些步骤的话，你可能正在焊接电线。如果我不特意提醒的话。我更喜欢pin header，因为它可以迅速、简单的修改，而我的创作始终处于不断变化的状态。

使用剩余的电线：
将剩余的红线从PowerBoost焊接到屏幕上的vin引脚。
将剩余的黑线从PowerBoost焊接到屏幕上的gnd引脚。

连接相机（可选）：
将相机电缆插入相机板。
如图所示将电缆插入树莓派中。
通过以太网插孔翻转相机。
使电缆平整并粘合到位。
![此处输入图片的描述][19]
附加屏幕宽带线：
如图所示将带状电缆插入树莓派。
如果您看上图，它会显示我在连接带状电缆后如何将背面板向下翻转到位。
最后，将后面板上的四颗螺丝拧入屏幕背面的支架中，然后完全组装。

第7步：制作树莓派软件镜像
步骤 1）
给树莓派接上键盘，通电。
转到此网站并按照安装步骤操作：（仅将您的键盘设置为临时控制器）
https://github.com/RetroPie/RetroPie-Setup/wiki/First-Installation

步骤 2）
您可能会听到恼人的嗡嗡声（现在可以忽略，我们很快就会修复）
按照以下步骤通过ReroPie菜单设置wifi：
RetroPie / settings> raspi-config> interfacing options >SSH > Yes > Ok > Finish > Retropie Setup > Configuration Tools > wifi>（设置你的wifi）> exit>

步骤 3）
安装 Pixel：
raspbiantools > Install Pixel Desktop Environment > yes > (等一会) > ok (to flash player) > (稍等时间久一点) > ok > cancel > back >

步骤 4）
安装 Kodi：
Manage Packages > Manage Optional Packages > Kodi > Install from binary > (wait a while) > back > back > back>

步骤 5）
注册并连接您的 JoyCons 手柄：

Configuration /Tools > bluetooth > Register and Connect (同时按下右侧joy-con上L和R之间的小按钮) > choose Joy-Con (R) > NoInputNoOutput > (wait) > ok > ok

步骤 6）
用Joy-Con（L）重复步骤5。

步骤 7）
cancel > back > exit > (start button) > quit > quit emulation station> yes

步骤 8）
运行以下命令：

1
2
sudo apt-get update && sudo apt-get upgrade && sudo rpi-update
sudo reboot
步骤 9）
输入以下内容：

1
2
3
wget https://raw.githubusercontent.com/cfoote7/PiSwitch/master/setup.sh
sudo chmod 777 setup.sh && sudo chmod a+x setup.sh 
./setup.sh
更新：
我已经添加了一个控制器连接菜单，屏幕上会显示是否连接到两个joy-cons。还增加了单人/双人玩家模式选择菜单。在完成第一boot时，你将可以用“+”和“-”按钮连接你的控制器，点击下一步，点击RetroPie，然后选择单人玩家模式。

备注：
pywx.py 是我的触摸屏启动的选择菜单，实际上它并不是启动选项，所有这些选项都储存在raspbian jessie下。我计划添加一个更简单的方式将控制器在启动时与此菜单配对。请您随时查看更新信息。如果您进行了任何改进，请特别注意是否可以构建此功能并告知我。我非常乐意为此提供合作服务。请检查我的存储库，我会更新在 https://github.com/cfoote7/PiSwitch

via Cherry 译。


------
## 结尾
感谢收看。
转自:[Pi](https://shumeipai.nxez.com/2018/03/06/piswitch-a-switch-console-made-with-pi.html)

作者 [@Deon][20]     
2020 年 12月 13日    

[^LaTeX]: 支持 **LaTeX** 编辑显示支持，例如：$\sum_{i=1}^n a_i=0$， 访问 [MathJax][21] 参考更多使用方法。

[^code]: 代码高亮功能支持包括 Java, Python, JavaScript 在内的，**四十一**种主流编程语言。


  [1]: https://s3.ax1x.com/2020/12/30/rOxhqO.md.jpg
  [2]: https://s3.ax1x.com/2020/12/30/rOxWM6.md.jpg
  [3]: https://s3.ax1x.com/2020/12/30/rOx2xx.jpg
  [4]: https://s3.ax1x.com/2020/12/30/rOxfsK.md.jpg
  [5]: https://s3.ax1x.com/2020/12/30/rOxgR1.md.jpg
  [6]: https://s3.ax1x.com/2020/12/30/rOxoIH.jpg
  [7]: https://s3.ax1x.com/2020/12/30/rOx5ZD.jpg
  [8]: https://s3.ax1x.com/2020/12/30/rOxIde.jpg
  [9]: https://s3.ax1x.com/2020/12/30/rOx7id.md.jpg
  [10]: https://s3.ax1x.com/2020/12/30/rOxbRI.jpg
  [11]: https://s3.ax1x.com/2020/12/30/rOxHJA.jpg
  [12]: https://s3.ax1x.com/2020/12/30/rOxqzt.jpg
  [13]: https://s3.ax1x.com/2020/12/30/rOxjL8.jpg
  [14]: https://s3.ax1x.com/2020/12/30/rOxxeS.jpg
  [15]: https://s3.ax1x.com/2020/12/30/rOxXsf.jpg
  [16]: https://s3.ax1x.com/2020/12/30/rOxzdg.jpg
  [17]: https://s3.ax1x.com/2020/12/30/rOzSoQ.jpg
  [18]: https://s3.ax1x.com/2020/12/30/rOz9ij.jpg
  [19]: https://s3.ax1x.com/2020/12/30/rOzCJs.md.jpg
  [20]: http://deoncn.top
  [21]: http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference